<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Atturaif - Events</title>
        <meta name="description" content="Atturaif is An Interactive Tour Guide Application and has an Admin website for management">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- Google Fonts -->
        <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
        <script>
          WebFont.load({
            google: {"families":["Montserrat:400,500,600,700","Noto+Sans:400,700"]},
            active: function() {
                sessionStorage.fonts = true;
            }
          });
        </script>
        <!-- Favicon -->
        <link rel="apple-touch-icon" sizes="180x180" href="assets/img/logo.png">
        <link rel="icon" type="image/png" sizes="32x32" href="assets/img/logo-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="assets/img/logo-16x16.png">
        <!-- Stylesheet -->
        <link rel="stylesheet" href="assets/vendors/css/base/bootstrap.min.css">
        <link rel="stylesheet" href="assets/vendors/css/base/elisyam-1.5.min.css">
        <!-- Tweaks for older IEs--><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
    </head>
    <body id="page-top">
        <!-- Begin Preloader -->
        <div id="preloader">
            <div class="canvas">
                <img src="assets/img/logo.png" alt="logo" class="loader-logo">
                <div class="spinner"></div>   
            </div>
        </div>
        <!-- End Preloader -->
        <div class="page">
            <!-- Begin Header -->
            <header class="header">
                <nav class="navbar fixed-top">         
                   
                    <!-- Begin Topbar -->
                    <div class="navbar-holder d-flex align-items-center align-middle justify-content-between">
                        <!-- Begin Logo -->
                        <div class="navbar-header">
                            <a href="index.html" class="navbar-brand">
                                <div class="brand-image brand-big">
                                    <img src="assets/img/logo.png" alt="logo" style="width: 70px;" class="logo-big">
                                </div>
                                <div class="brand-image brand-small">
                                    <img src="assets/img/logo.png" alt="logo" class="logo-small">
                                </div>
                            </a>
                            <!-- Toggle Button -->
                            <a id="toggle-btn" href="#" class="menu-btn active">
                                <span></span>
                                <span></span>
                                <span></span>
                            </a>
                            <!-- End Toggle -->
                        </div>
                        <!-- End Logo -->
                    </div>
                    <!-- End Topbar -->
                </nav>
            </header>
            <!-- End Header -->
            <!-- Begin Page Content -->
            <div class="page-content d-flex align-items-stretch">
               
                <div class="content-inner">
                    <div class="container-fluid">
                        <!-- Begin Page Header-->
                        <div class="row">
                            <div class="page-header">
	                            <div class="d-flex align-items-center">
	                                <h2 class="page-header-title">Add New Event</h2>
	                                <div>
			                            <ul class="breadcrumb">
			                                <li class="breadcrumb-item"><a href="index.html"><i class="ti ti-home"></i></a></li>
			                                <li class="breadcrumb-item"><a href="pages-events.html">Events</a></li>
			                            </ul>
	                                </div>
	                            </div>
                            </div>
                        </div>
                        <!-- End Page Header -->
                        <div class="row flex-row">
                            <div class="col-xl-12">
                                <!-- Form -->
                                <div class="widget has-shadow">
                                    <div class="widget-header bordered no-actions d-flex align-items-center">
                                        <h4>Event Form</h4>
                                    </div>
                                    <div class="widget-body">
                                        <form class="needs-validation" novalidate>
                                            <div class="form-group row d-flex align-items-center mb-5">
                                                <label class="col-lg-4 form-control-label d-flex justify-content-lg-end">Arabic Name</label>
                                                <div class="col-lg-5">
                                                    <input type="text" id="aname" class="form-control" placeholder="أدخل أسم الحدث" required>
                                                </div>
                                            </div>
                                            <div class="form-group row d-flex align-items-center mb-5">
                                                <label class="col-lg-4 form-control-label d-flex justify-content-lg-end">English Name</label>
                                                <div class="col-lg-5">
                                                    <input type="text" id="ename" class="form-control" placeholder="Enter Event name" required>
                                                </div>
                                            </div>
                                            <!--time-->
                                            <div class="form-group row d-flex align-items-center mb-5">
                                                <label class="col-lg-4 form-control-label d-flex justify-content-lg-end">Enter Event Time</label>
                                                <div class="col-lg-5">
                                                    <input type="text" id="eventTime" class="form-control" placeholder="EX: 3:30 PM " required>
                                                </div>
                                            </div>
                                            <div class="form-group row d-flex align-items-center mb-5">
                                                <label class="col-lg-4 form-control-label d-flex justify-content-lg-end">Enter Event Date</label>
                                                <div class="col-lg-5">
                                                    <input type="text" id="eventDate" class="form-control" placeholder="correct formate EX: 24-3-2019" required>
                                                </div>
                                            </div>
                                            <!--end time-->
                                            
                                            <div class="form-group row d-flex align-items-center mb-5">
                                                <label class="col-lg-4 form-control-label d-flex justify-content-lg-end">Arabic Event Description</label>
                                                <div class="col-lg-5">
                                                    <textarea id="ardes" class="form-control" placeholder="أدخل تعريف بالعربي هنا ..." required></textarea>
                                                    <div class="invalid-feedback">
                                                        Please enter an Arabic description for the event
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group row d-flex align-items-center mb-5">
                                                    <label class="col-lg-4 form-control-label d-flex justify-content-lg-end">English Event Description</label>
                                                    <div class="col-lg-5">
                                                        <textarea id="endes" class="form-control" placeholder="Type english event description here ..." required></textarea>
                                                        <div class="invalid-feedback">
                                                            Please enter an English description for the event
                                                        </div>
                                                    </div>
                                                </div>
                                            <div class="form-group row d-flex align-items-center mb-5">
                                                <label class="col-lg-4 form-control-label d-flex justify-content-lg-end">event Image</label>
                                                <div class="col-lg-5">
                                                    <input type="file" id="fileButton" accept="image/*" placeholder="upload image" required>
                                                    <div class="invalid-feedback">
                                                        Please enter the image for the event
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                            
                                            <div class="text-right">
                                                <a href="#" onclick="sub()"> <button class="btn btn-gradient-01" type="submit">Submit Event</button></a>
                                                <button class="btn btn-shadow" type="reset">Reset</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                                <!-- End Form -->
                            </div>
                        </div>
                        <!-- End Row -->
                    </div>
                    <!-- End Container -->
                    
                    <a href="#" class="go-top"><i class="la la-arrow-up"></i></a>
                   
                </div>
            </div>
            <!-- End Page Content -->
        </div>
        <!-- Begin Vendor Js -->
        <script src="assets/vendors/js/base/jquery.min.js"></script>
        <script src="assets/vendors/js/base/core.min.js"></script>
        <!-- End Vendor Js -->
        <!-- Begin Page Vendor Js -->
        <script src="assets/vendors/js/nicescroll/nicescroll.min.js"></script>
        <script src="assets/vendors/js/app/app.min.js"></script>
        <!-- End Page Vendor Js -->
        <!-- Begin Page Snippets -->
        <script src="assets/js/components/validation/validation.min.js"></script>
        <!-- End Page Snippets -->
        
       <!--Date jQuery-->

       <!-- Begin Page Vendor Js -->
       <script src="assets/vendors/js/datepicker/moment.min.js"></script>
       <script src="assets/vendors/js/datepicker/daterangepicker.js"></script>
       <!-- End Page Vendor Js -->
       <!-- Begin Page Snippets -->
       <script src="assets/js/components/datepicker/datepicker.js"></script>
      <script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>
    
<script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-database.js"></script>
            <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-storage.js"></script>

<script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-auth.js"></script>


<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
        apiKey: "AIzaSyCeyIbiJJVpSxhjkkVYt7S0I9zJ_wZoii4",
        authDomain: "atturaifsystem.firebaseapp.com",
        databaseURL: "https://atturaifsystem.firebaseio.com",
        projectId: "atturaifsystem",
        storageBucket: "atturaifsystem.appspot.com",
        messagingSenderId: "634716072857",
        appId: "1:634716072857:web:0c0d748300f4f335444108",
        measurementId: "G-ZHTNVKE6JM"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
</script>
<script>
    function sub() {
        var arname = document.getElementById('aname').value;
        var enname = document.getElementById('ename').value;
        var eventTime = document.getElementById('eventTime').value;
        var eventDate = document.getElementById('eventDate').value;
        var ardesc = document.getElementById('ardes').value;
        var endesc = document.getElementById('endes').value;
        var fileButton = document.getElementById('fileButton');

        savedata(arname, enname, eventTime, eventDate, ardesc, endesc);
    }
    fileButton.addEventListener('change', function (e) {

        var file = e.target.files[0];
        var storageref = firebase.storage().ref('Events/' + file.name);
        var task = storageref.put(file);
    });
 
    var linkref = firebase.database().ref("Events");

    function savedata(arname, enname, eventTime, eventDate,ardesc, endesc) {
        var file = fileButton.files[0];
        linkref.child(enname).set({
            EventNameAR: arname,
            EventNameEN: enname,
            EventTime: eventTime,
            day: eventDate,
            descriptionAR: ardesc,
            descriptionEN: endesc,
            image: file.name
            //month: year: 
        });

    }


</script>
      </body>
</html>